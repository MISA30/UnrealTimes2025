
/* --------------------- 基本テキスト・日付 --------------------- */
.date {
    font-family: "Noto Serif JP";
    font-size:16px;
    font-style: normal;
    line-height: normal;
    margin-left: 160px;
}

/* ---------------------- カスタム変数 / ユーティリティ ---------------------- */
:root{
    /* 右カラムをデスクトップで上に詰める量（px, 負の値で上へ） */
    --col-right-offset: -40px;
    /* 基本の間隔単位（必要なら基準にしてユーティリティを拡張可能） */
    --spacing-unit: 10px;
    /* デスクトップ天気画像の希望幅（必要に応じて調整） */
    --weather-image-desktop-width: 600px;
    /* オーバレイの不透明度（0.0〜1.0） */
    --overlay-opacity: 0.6;
    /* ぐしゃぐしゃ→展開アニメの所要時間 */
    --crumple-duration: 1300ms;
}

/* 簡易ユーティリティ：上マージン調整（必要に応じてクラスを追加してください） */
.mt-0{ margin-top: 0 !important; }
.mt-10{ margin-top: 10px !important; }
.mt-20{ margin-top: 20px !important; }
.mt-40{ margin-top: 40px !important; }
.mt-neg-10{ margin-top: -10px !important; }
.mt-neg-20{ margin-top: -20px !important; }
.mt-neg-40{ margin-top: -40px !important; }


/* -------------------------- タイトル -------------------------- */
h1 {
    color: #000;
    -webkit-text-stroke-width: 2px;
    -webkit-text-stroke-color: #FFF;
    font-family: Abhaya Libre ExtraBold, "Times New Roman", Times, serif;
    font-size: 128px;
    font-style: normal;
    font-weight: 800;
    line-height: normal;
    text-align: center;
    margin-top: 0;
    width: 60%;
    margin-left: auto;
    margin-right: auto;
    border-bottom: 4px solid #000;
    white-space: nowrap;
}

/* ------------------------ 天気予報（上部） ------------------------ */
.weather-image {
    aspect-ratio: 1051/215;
    display: block;
}

.ame{
    width: calc(95%-300px);
    max-width:1400px;
    margin : 0 auto;
}
.weather {
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 33px;
    letter-spacing: 2.2px;
    margin: 10px 0 0 0;
    text-align: justify;
}

/* -------------------------- 中央見出し -------------------------- */
h2 {
    margin: 45px auto 0 auto;
    text-align: center;
    font-family: "Noto Serif JP";
    font-size: 40px;
    font-style: normal;
    font-weight: 900;
    line-height: normal;
    letter-spacing: 4.4px;
}

/* -------------------------- 画像（中央） ------------------------- */
.center-image {
    aspect-ratio: 703/466;
    display: block;
    margin: 30px auto;
}

.main-subtext {
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    line-height: normal;
    margin: 10px 0;
    letter-spacing: -0.2px;
}

.main-text {
    width: 700px;
    height: 343px;
    flex-shrink: 0;
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    font-weight: 405;
    line-height: 33px;
    letter-spacing: 2.2px;
    margin: 20px auto 0 auto;
    text-align: justify;
}

/* ------------------------ 3カラムレイアウト ------------------------ */
body {
    overflow-x: hidden;
    width: 100%;
    margin: 0;
    padding: 0;
    position: relative; /* 擬似要素の重なり順制御用 */
    z-index: 0;        /* 本文を基準スタックに */
}

.columns {
    display: grid;
    /* デスクトップでは左右を狭く固定、中央を広くするレイアウトにする */
    grid-template-columns: 300px minmax(600px, 1fr) 300px; /* 左(固定) - 中央(可変, 最小600px) - 右(固定) */
    gap: 20px;
    width: 95%;
    max-width: 1400px;
    margin: 0 auto;
    align-items: start;
    padding: 0 20px;
    box-sizing: border-box;
}

/* ------------------- 開幕アニメ：ぐしゃぐしゃ→広がる紙 ------------------- */
.crumple-open {
    position: relative;
    will-change: clip-path, transform, filter, opacity;
    animation: crumpleUnfurl var(--crumple-duration) ease-out forwards;
}

.crumple-open::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    /* しわ影＋紙の質感の簡易表現 */
    background:
      radial-gradient(80% 60% at 30% 40%, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0) 60%),
      radial-gradient(60% 50% at 70% 55%, rgba(0,0,0,0.14) 0%, rgba(0,0,0,0) 55%),
      repeating-linear-gradient(135deg, rgba(0,0,0,0.10) 0 2px, rgba(0,0,0,0) 2px 8px),
      repeating-linear-gradient(45deg, rgba(255,255,255,0.12) 0 1px, rgba(0,0,0,0) 1px 6px);
    mix-blend-mode: multiply;
    opacity: 0.42;
    z-index: 1; /* 一時的に上に重ねるがフェードで消す */
    animation: creaseFade var(--crumple-duration) ease-out forwards;
}

/* ぐしゃぐしゃ形状→矩形へ */
@keyframes crumpleUnfurl {
    0% {
        clip-path: polygon(
          12% 8%, 38% 4%, 52% 10%, 72% 6%, 88% 18%,
          94% 38%, 86% 52%, 96% 64%, 86% 78%, 64% 88%,
          48% 82%, 34% 92%, 18% 86%, 8% 68%, 6% 48%, 10% 32%
        );
        transform: scale(0.88) rotate(-1.4deg);
        filter: drop-shadow(0 10px 18px rgba(0,0,0,0.22)) contrast(0.96) saturate(0.95);
    }
    60% {
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        transform: scale(1.02) rotate(0.35deg);
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        transform: scale(1) rotate(0deg);
        filter: none;
    }
}

@keyframes creaseFade {
    0% { opacity: 0.42; }
    80% { opacity: 0.12; }
    100% { opacity: 0; }
}

/* 動きが苦手なユーザー環境への配慮 */
@media (prefers-reduced-motion: reduce) {
    .crumple-open { animation: none; clip-path: none; filter: none; transform: none; }
    .crumple-open::before { display: none; }
}

/* カラム内の共通リセット */
.columns img { max-width: 100%; height: auto; display: block; margin: 8px 0; }
.columns .iwashi-text,
.columns .paripi-text,
.columns .megane-text { margin: 0 0 10px 0; }
.columns .iwashi-subtext,
.columns .paripi-subtext,
.columns .megane-subtext,
.columns .main-text { width: 100%; margin: 30px 0 16px 0; }

/* カラム化に合わせ、個別に指定していた左右マージンは無効化 */
.columns .iwashi-image,
.columns .iwashi-setumei,
.columns .iwashi-subtext { margin-left: 0; }
.columns .paripi-text,
.columns .paripi-subtext,
.columns .megane-text,
.columns .megane-subtext { margin-left: 0; margin-right: 0; }
.columns .megane-image { max-width: 100%; width: 100%; margin: 30px 0 10px 0; }



/* カラム毎の余白（デスクトップ向け）記事間の余白 */
.columns .col-left { 
    margin: 55px 20px 0 0;
    width: 100%;
    max-width: 300px;
}
.columns .col-center { 
    padding: 0 20px;
    width: 100%;
}
.columns .col-right { 
    padding-left: 20px;
    width: 100%;
    max-width: 300px;
}

/* デスクトップ表示で右カラムを上に詰める（必要に応じて値を調整） */
@media (min-width: 1000px) {
    .columns .col-right {
        margin-top: -300px; /* 300px上に詰める */
        margin-bottom: 100px;/* 下に余白を追加 */
    }
}

/* ------------------------ イワシ関連 ------------------------ */
.iwashi-text {
    width: 297px;
    height: 107px;
    flex-shrink: 0;
    font-family: "Noto Serif JP";
    font-size: 32px;
    font-style: normal;
    font-weight: 900;
    line-height: normal;
    letter-spacing: 3.52px;
    margin: 20px 0 0 0;
}

.iwashi-subtext {
    width: 318px;
    height: 521px;
    flex-shrink: 0;
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 33px;
    letter-spacing: 2.2px;
    margin: 20px 0 0 0;
    text-align: justify;
}

.iwashi-image { 
    aspect-ratio: 400/300; 
   padding:80px 0 0 0;/*画像上の余白調整*/
}
.iwashi-setumei { 
    font-family: "Noto Serif JP"; 
    font-size: 16px; 
    line-height: normal; 
    margin-top: 10px; 
}

/* ---------------------- パリピガエル関連 ---------------------- */
.paripi-text {
    width: 319px;
    height: 105px;
    flex-shrink: 0;
    font-family: "Noto Serif JP";
    font-size: 32px;
    font-style: normal;
    font-weight: 900;
    line-height: normal;
    letter-spacing: 2.88px;
    margin: 20px 0 0 0;
}

.paripi-subtext {
    width: 318px;
    height: 521px;
    flex-shrink: 0;
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 33px;
    letter-spacing: 2.2px;
    margin: 10px 0 0 0;
    text-align: justify;
}

/* ------------------------ 虫眼鏡関連 ------------------------ */
.megane-text {
    width: 319px;
    height: 73px;
    font-family: "Noto Serif JP";
    font-size: 32px;
    font-style: normal;
    font-weight: 900;
    line-height: normal;
    letter-spacing: 2.88px;
    margin: 20px 0 0 0;
}

.megane-image {
    aspect-ratio: 154/103;
    margin-top: 20px;
    display: block;
    width: 319px;
    height: auto;
    margin-left: auto;
    margin-right: 0;
}

.megane-subtext {
    width: 318px;
    height: 373px;
    font-family: "Noto Serif JP";
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 33px;
    letter-spacing: 2.2px;
    margin: 20px 0 100px 0;
    text-align: justify;
}

/* ---------------------- レスポンシブ調整 ---------------------- */
@media (max-width: 1338px) {
    .columns {
        margin: 0 auto;
    }
}

@media (max-width: 900px) {
    h1 { font-size: 8vw; width: 90%; white-space: normal;-webkit-text-stroke-width: 0.5px; }
    h2 { width: 90%; font-size: 6vw; }

     .weather-image {
        width: var(--weather-image-desktop-width);
        max-width: 100%;
        height: auto; /* 比率維持 */
        margin: 10px auto; /* 中央寄せ */
    }

    .columns .col-center{
        order: 0;
          max-width: none;
        padding-left:0;
    }

    .columns .col-right{
        order:1;
        max-width: none;
        width:none;
        padding-left:0;
        padding-top:300px;
        text-align: center;
    }

    .columns .col-left{
        order:2;
          max-width: none;
        padding-left:0;
        padding-top: -30px;
        
    }


    .columns{
        display: flex;
        flex-direction: column;
    }
    .weather-image,
    .megane-image {
        width: 90%;

    }
    .iwashi-image {
        display: block;
        width: 100%;
        padding: 150px 0 0 0px; /* 画像上の余白調整：サブテキストと重ならないように増量 */
    
    }

    .center-image{
        width:100%;
    }
    .main-text,
    .paripi-subtext,
    .iwashi-subtext,
    .megane-subtext {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        font-size: 18px;
        line-height: 1.5;
        margin-top: 10px;
        height: 270px;
    }

    .iwashi-text
    { 
        width: 100%;
        margin: 40px auto 0 auto;
        font-size: 25px;
        line-height: 1.6;
        text-align: center;
        height: auto;
    }

    .megane-text{
        width:none;
        margin-left: auto;
        margin-right: auto;
        font-size: 25px;
        line-height: 1.6;
        padding: 80px 0 0 0;
        height: auto; /* 比率維持 */
    }

    .paripi-text{
        width:none;
        font-size: 25px;
        line-height: 1.6;
        padding: 10px 0 0 0;
        height: auto; /* 比率維持 */
    }

     .weather{
        width:90%; 
        font-size:16px;
        letter-spacing: normal;
         height: auto; /* 比率維持 */
        margin: 10px auto; /* 中央寄せ */
        line-height:1.5;/*文字の行間*/
     }

     .main-subtext{
        font-size:16px;
        letter-spacing: normal;
         height: auto; /* 比率維持 */
        margin: 10px auto; /* 中央寄せ */
        padding: 0 0 0 14px;/*左の余白調整*/
     }
}

/* ---------------------- 最背面の背景画像（擬似要素） ---------------------- */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url("unrealtimes picture/スクリーンショット 2026-02-05 094246.png");
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    z-index: -1; /* 本文より背面に配置 */
    opacity: var(--overlay-opacity, 0.9);
    pointer-events: none; /* 背景なので操作は通す */
}

/* 既存の前面オーバレイは無効化（必要なら復活可） */
#image-overlay { display: none; }

/* ===================== 強化版：より丸く丸めた開始 ===================== */
:root {
    /* 丸め開始時の半径（より丸くしたい場合は大きく） */
    --crumple-start-radius: 20vmin;
    /* 開始位置：上半分で見えるようにY中心を上寄せ */
    --crumple-start-center-x: 50%;
    --crumple-start-center-y: 25%;
    /* 紙ノイズ（軽め） */
    --crumple-noise-opacity: 0.12;
    /* 端折れ影の幅 */
    --fold-width: 42px;
}

/* 丸め開始・はみ出し隠し＋新アニメ適用 */
.crumple-open {
    overflow: hidden;
    transform-origin: 50% 15%;
    animation: crumpleUnfurlBall2 var(--crumple-duration) ease-out forwards;
}

/* シワ影を少し強調し、フェードのキーフレームを差し替え */
.crumple-open::before {
        opacity: 0.56;
        animation: creaseFadeStrong var(--crumple-duration) ease-out forwards;
        /* 紙ノイズを追加して丸め感を補助 */
        background-image:
            radial-gradient(80% 60% at 30% 40%, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0) 60%),
            radial-gradient(60% 50% at 70% 55%, rgba(0,0,0,0.14) 0%, rgba(0,0,0,0) 55%),
            repeating-linear-gradient(135deg, rgba(0,0,0,0.10) 0 2px, rgba(0,0,0,0) 2px 8px),
            repeating-linear-gradient(45deg, rgba(255,255,255,0.12) 0 1px, rgba(0,0,0,0) 1px 6px),
            url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.06"/></svg>');
        mix-blend-mode: multiply;
}

@keyframes crumpleUnfurlBall2 {
    0% {
        /* より“丸く丸めた紙”から開始（画面上半分の中心） */
        clip-path: circle(var(--crumple-start-radius) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -4vh, 0) scale(0.58) rotate(-7deg);
        filter: drop-shadow(0 18px 28px rgba(0,0,0,0.28)) contrast(0.94) saturate(0.92);
    }
    18% {
        /* ちょっと弾む揺れで丸め感 */
        transform: translate3d(0, -5.5vh, 0) scale(0.64) rotate(-5deg);
    }
    35% {
        /* 少し潰れて広がる楕円形状で“もみ伸ばし”感 */
        clip-path: ellipse(calc(var(--crumple-start-radius) * 1.6) calc(var(--crumple-start-radius) * 1.05) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -3vh, 0) scale(0.86) rotate(-2.3deg);
    }
    60% {
        /* 不規則な輪郭に遷移（しわを伸ばし中） */
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        transform: translate3d(0, 0, 0) scale(1.02) rotate(0.35deg);
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        transform: scale(1) rotate(0deg);
        filter: none;
    }
}

@keyframes creaseFadeStrong {
    0% { opacity: 0.52; }
    80% { opacity: 0.12; }
    100% { opacity: 0; }
}

/* ===================== 調整：二重の丸を解消し質感強化 ===================== */
/* コンテンツ側は軽い揺れのみ。丸形状は前面カバーが担当 */
.crumple-open {
    /* 初期は完全に隠し、開くにつれて記事を露出 */
    overflow: hidden;
    transform-origin: 50% 15%;
    animation: revealMaskTop var(--crumple-duration) ease-out forwards;
}

@keyframes revealMaskTop {
    0% {
        /* 記事を完全に隠す（半径0の円） */
        clip-path: circle(0 at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -4vh, 0) scale(0.9) rotate(-2deg);
    }
    18% {
        /* 上半分で球が少し広がる */
        clip-path: circle(var(--crumple-start-radius) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -5vh, 0) scale(0.95) rotate(1deg);
    }
    35% {
        /* つぶれ楕円で“もみ伸ばし”感 */
        clip-path: ellipse(calc(var(--crumple-start-radius) * 1.7) calc(var(--crumple-start-radius) * 1.08) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -3vh, 0) scale(1) rotate(0deg);
    }
    60% {
        /* 不規則輪郭に遷移（しわ伸ばし中） */
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        transform: translate3d(0, 0, 0) scale(1.01);
    }
    100% {
        /* 全面表示 */
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        transform: none;
    }
}

/* 前面カバーのアニメを上書きして、弾みと丸め感を増強 */
/* カバーも同じ形状で同期（覆いながら徐々にフェードアウト） */
body::after { animation: ballUnfurlCoverSync var(--crumple-duration) ease-out forwards; }

@keyframes ballUnfurlCoverSync {
    0% {
        clip-path: circle(var(--crumple-start-radius) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        filter: drop-shadow(0 20px 32px rgba(0,0,0,0.28));
        opacity: 1; /* 完全に覆う */
        transform: translate3d(0, -4vh, 0) scale(1) rotate(-2deg);
    }
    8% {
        /* 小さな弾み（丸められた反動） */
        transform: translate3d(0, -5vh, 0) scale(1.03) rotate(1.5deg);
    }
    18% {
        clip-path: circle(calc(var(--crumple-start-radius) * 1.15) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -5.5vh, 0) scale(1.02) rotate(-0.8deg);
    }
    24% {
        transform: translate3d(0, -4.3vh, 0) scale(0.99) rotate(0.6deg);
    }
    35% {
        /* つぶれ楕円で“もみ伸ばし”感を強化 */
        clip-path: ellipse(calc(var(--crumple-start-radius) * 1.7) calc(var(--crumple-start-radius) * 1.08) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        opacity: 0.9; /* まだ覆うが少し薄く */
        transform: translate3d(0, -3vh, 0) scale(1) rotate(0deg);
    }
    60% {
        /* 不規則輪郭へ遷移し、しわ感を残しつつ広がる */
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        opacity: 0.38; /* 覆いが薄まり、記事が見え始める */
        transform: translate3d(0, 0, 0) scale(1.01);
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        opacity: 0;
        filter: none;
        transform: none;
    }
}

/* ===================== 再同期：カバーをコンテナ内に移動 ===================== */
/* 前面カバーは body::after を使わず、コンテンツコンテナに重ねる */
body::after { display: none !important; opacity: 0 !important; animation: none !important; }

/* コンテンツコンテナ内に紙カバーを作成（同一座標系で完全同期） */
.crumple-open {
    position: relative;
    overflow: hidden;
    /* 本文の広がりをステップ化（滑らかさを排除） */
    animation: revealMaskTop2 var(--crumple-duration) steps(6, end) forwards;
}

.crumple-open::after {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 2; /* コンテンツの上に重ねる */
    pointer-events: none;
        /* 紙っぽい白＋しわ影＋軽ノイズ（左右に広がる黒影は削除） */
        background-image:
            radial-gradient(closest-side, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.96) 45%, rgba(255,255,255,0.92) 65%, rgba(255,255,255,0.0) 100%),
            radial-gradient(80% 60% at 30% 40%, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0) 60%),
            radial-gradient(60% 50% at 70% 55%, rgba(0,0,0,0.14) 0%, rgba(0,0,0,0) 55%),
            repeating-linear-gradient(135deg, rgba(0,0,0,0.08) 0 2px, rgba(0,0,0,0) 2px 8px),
            url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.05"/></svg>');
        background-repeat: no-repeat;
        background-position: center;
    mix-blend-mode: multiply;
    /* カバーの広がりもステップ化 */
    animation: coverFollow var(--crumple-duration) steps(6, end) forwards;
}

/* ===================== 紙の端の折れ曲がりフラップ（上端中央） ===================== */
:root{ --curl-size: 120px; }
.paper-fold{
    position: absolute;
    top: 0;
    left: 50%;
    width: var(--curl-size);
    height: calc(var(--curl-size) * 0.7);
    transform: translate(-50%, -60%);
    z-index: 3; /* コンテナ内で最前面 */
    pointer-events: none;
    /* 曲線的な“めくれ”形状（楕円の上辺に近い造形） */
    border-radius: 80% 80% 18% 18% / 80% 80% 18% 18%;
    background:
      radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.75) 60%, rgba(255,255,255,0) 100%),
      linear-gradient(to bottom, rgba(0,0,0,0.16), rgba(0,0,0,0));
    box-shadow: 0 8px 14px rgba(0,0,0,0.15);
    transform-origin: 50% 0%;
    /* フラップは自然めくれ（非ステップ） */
    animation: peelCurl var(--crumple-duration) ease-out forwards;
}

@keyframes peelCurl{
    0%{
        opacity: 1;
        transform: translate(-50%, -60%) rotate(-12deg) scale(1);
    }
    25%{
        opacity: 0.92;
        transform: translate(-50%, -52%) rotate(-6deg) scale(1.02);
    }
    50%{
        opacity: 0.6;
        transform: translate(-50%, -44%) rotate(-2deg) scale(1.00);
        box-shadow: 0 6px 12px rgba(0,0,0,0.13);
    }
    75%{
        opacity: 0.34;
        transform: translate(-50%, -36%) rotate(0deg) scale(0.94);
        box-shadow: 0 4px 8px rgba(0,0,0,0.10);
    }
    100%{
        opacity: 0;
        transform: translate(-50%, -32%) scale(0.88);
        box-shadow: none;
    }
}

/* ===================== 紙の角の折れ（ドッグイヤー） ===================== */
:root{
    /* 角の折れサイズ */
    --corner-size: 84px;
}

.corner-fold{
    position: absolute;
    top: 0;
    right: 0;
    width: var(--corner-size);
    height: var(--corner-size);
    z-index: 3; /* コンテナ内で最前面 */
    pointer-events: none;
    /* 角を折った“裏面”の紙の色味 */
    background:
      linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(250,250,250,0.95) 50%, rgba(240,240,240,0.94) 100%),
      radial-gradient(110% 140% at 80% 20%, rgba(0,0,0,0.12) 0%, rgba(0,0,0,0) 60%);
    /* 三角形の折れ形状（右上が折れて前に出る） */
    clip-path: polygon(100% 0, 0 0, 100% 100%);
    /* 折れの付け根（右上）を基準にわずかに曲げ表現 */
    transform-origin: 100% 0%;
    box-shadow: -6px 6px 14px rgba(0,0,0,0.12);
    border-top: 1px solid rgba(0,0,0,0.06);
    border-left: 1px solid rgba(0,0,0,0.06);
    /* 角の折れのみステップで“かくかく”を強化 */
    animation: dogEarSettle var(--crumple-duration) steps(6, end) forwards;
}

.corner-fold::after{
    content: "";
    position: absolute;
    inset: 0;
    /* 折り目ラインに沿った微弱ハイライトで立体感 */
    background: linear-gradient(135deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0) 60%);
    clip-path: polygon(96% 0, 0 0, 100% 100%, 100% 64%);
    opacity: 0.6;
}

@keyframes dogEarSettle {
    0%   { transform: rotate(-6deg) translate(-2px, 2px) scale(0.96); opacity: 0.92; }
    35%  { transform: rotate(-3deg) translate(-1px, 1px) scale(0.98); opacity: 0.88; }
    70%  { transform: rotate(-1deg) translate(0px, 0px) scale(1.00);  opacity: 0.80; }
    100% { transform: rotate(0deg)  translate(0px, 0px) scale(1.00);  opacity: 0.78; }
}

@media (max-width: 900px){
    :root{ --corner-size: 64px; }
}

/* 記事の露出は clip-path のみで制御（位置ズレ防止のため transform は使わない） */
@keyframes revealMaskTop2 {
    0% {
        /* かくかくの極小多角形で開始（上半分の中心付近） */
        clip-path: polygon(
          49% 24%, 51% 24%, 52% 25%, 51% 26%, 49% 26%, 48% 25%
        );
    }
    18% {
        /* 細かなギザギザを持つ中サイズの多角形に拡張 */
        clip-path: polygon(
          45% 20%, 50% 18%, 55% 20%, 60% 23%, 62% 28%, 60% 33%,
          56% 36%, 52% 38%, 48% 37%, 44% 35%, 40% 32%, 38% 27%, 40% 23%
        );
    }
    35% {
        /* より大きな不規則多角形（しわ感を残す） */
        clip-path: polygon(
          30% 14%, 44% 10%, 58% 12%, 70% 18%, 76% 28%, 74% 38%,
          68% 46%, 58% 52%, 48% 54%, 38% 52%, 30% 46%, 24% 36%, 26% 24%
        );
    }
    60% {
        /* 既存の不規則輪郭に遷移 */
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
    }
}

/* カバーは同じ形状で追従し、徐々に透明にする */
@keyframes coverFollow {
    0% {
        clip-path: polygon(
          49% 24%, 51% 24%, 52% 25%, 51% 26%, 49% 26%, 48% 25%
        );
        opacity: 1;
    }
    18% {
        clip-path: polygon(
          45% 20%, 50% 18%, 55% 20%, 60% 23%, 62% 28%, 60% 33%,
          56% 36%, 52% 38%, 48% 37%, 44% 35%, 40% 32%, 38% 27%, 40% 23%
        );
        opacity: 1;
    }
    35% {
        clip-path: polygon(
          30% 14%, 44% 10%, 58% 12%, 70% 18%, 76% 28%, 74% 38%,
          68% 46%, 58% 52%, 48% 54%, 38% 52%, 30% 46%, 24% 36%, 26% 24%
        );
        opacity: 0.9;
    }
    60% {
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        opacity: 0.38;
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        opacity: 0;
    }
}

/* ===================== 初期を完全に覆う紙ボールカバー ===================== */
body::after { display: none !important; animation: none !important; opacity: 0 !important; }

@keyframes ballUnfurlCover {
    0% {
        clip-path: circle(var(--crumple-start-radius) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        filter: drop-shadow(0 20px 32px rgba(0,0,0,0.28));
        opacity: 1;
        transform: translate3d(0, -4vh, 0) scale(1);
    }
    18% {
        clip-path: circle(calc(var(--crumple-start-radius) * 1.15) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        transform: translate3d(0, -5.5vh, 0) scale(1.02);
    }
    35% {
        clip-path: ellipse(calc(var(--crumple-start-radius) * 1.6) calc(var(--crumple-start-radius) * 1.05) at var(--crumple-start-center-x) var(--crumple-start-center-y));
        opacity: 0.88;
        transform: translate3d(0, -3vh, 0) scale(1);
    }
    60% {
        clip-path: polygon(
          6% 8%, 30% 3%, 55% 6%, 76% 8%, 92% 20%,
          94% 36%, 90% 52%, 94% 66%, 84% 80%, 64% 90%,
          45% 86%, 28% 94%, 12% 88%, 6% 70%, 4% 50%, 6% 34%
        );
        opacity: 0.38;
        transform: translate3d(0, 0, 0) scale(1);
    }
    100% {
        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
        opacity: 0;
        filter: none;
    }
}

@media (prefers-reduced-motion: reduce) {
    body::after { display: none; }
}

